(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,t,a){e.exports=a(254)},171:function(e,t,a){},254:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),c=a.n(l),o=(a(171),a(326)),u=a(308),i=a(23),s=a.n(i),m=a(33),d=a(13),f=a(64),p=new f.a("DATA"),h={data:"++id,human_label,model_label,*contentWords",schema:"++id,name"},E=function(e){for(var t=new Set,a=2;a<e.length;a++)t.add(e.slice(a-2,a+1));return Array.from(t)};!function(){p.version(1).stores(h);p.data.hook("creating",function(e,t,a){"string"==typeof t.content&&(t.contentWords=E(t.content))}),p.data.hook("updating",function(e,t,a,n){if(e.hasOwnProperty("content"))return"string"==typeof e.content?{contentWords:E(e.content)}:{contentWords:[]}}),p.open()}();var v=function(e){return p.transaction("rw",p.data,function(){e.forEach(function(e){return p.data.add(e)})})},b=function(){var e=Object(m.a)(s.a.mark(function e(t){var a,n,r,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(a=E(t)).length){e.next=3;break}return e.abrupt("return",f.a.Promise.resolve([]));case 3:return e.next=5,f.a.Promise.all(a.map(function(e){return p.data.where("contentWords").equals(e).distinct().primaryKeys()}));case 5:if(0!==(n=e.sent).length){e.next=8;break}return e.abrupt("return",f.a.Promise.resolve([]));case 8:return r=n.reduce(function(e,t){var a=new Set(t);return e.filter(function(e){return a.has(e)})}),l=p.data.where("id").anyOf(r).toArray().then(function(e){return e.filter(function(e){return-1!==e.content.search(t)})}),e.abrupt("return",l);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),g=function(e){try{var t=new RegExp(e);return p.data.filter(function(e){return t.test(e.content)}).toArray()}catch(a){return f.a.Promise.resolve([])}},x=function(e,t){return p.schema.add({name:e,color:t})},w=function(){return p.schema.toArray()},y=r.a.createContext("dbContext"),O=function(e){var t=r.a.useState(0),a=Object(d.a)(t,2),n=a[0],l=a[1],c=r.a.useState(!1),o=Object(d.a)(c,2),u=o[0],i=o[1],f=function(){return l(n+1)};r.a.useEffect(function(){i(!0)},[1]);var h={addDoc:function(e){f()},addDocsBatch:function(){var e=Object(m.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),updateDoc:function(e){f()},setDocCLass:function(e,t){(function(e,t){return p.data.update(e,{human_label:t})})(e,t).then(f)},updateDocsBatch:function(e){f()},search:function(){var e=Object(m.a)(s.a.mark(function e(t,a){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),regexSearch:function(){var e=Object(m.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),allDocs:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return p.data.limit(e).toArray()}(20)},step:n};return r.a.createElement(y.Provider,{value:h},u?e.children:null)},C=function(){return r.a.useContext(y)},j=a(146),k=a(257),S=a(304),D=a(154),A=a(156),P=a(305),N=a(306),W=a(40),B=a(307),F=a(259),M=a(238),T=r.a.createContext("classContext"),_=function(e){var t=r.a.useState({}),a=Object(d.a)(t,2),n=a[0],l=a[1];r.a.useEffect(function(){w().then(function(e){l(e)})},[1]);var c=function(){var e=Object(m.a)(s.a.mark(function e(t){var a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=M.getColor({text:t}),e.next=3,x(t,a);case 3:return e.next=5,w();case 5:n=e.sent,l(n);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(T.Provider,{value:{classes:Object.values(n),addClass:c}},e.children)},R=function(){return r.a.useContext(T)},L=a(295),U=a(296),H=a(297),G=a(327),I=a(302),J=a(303),Q=a(292),Y=function(e){var t=R(),a=r.a.useState(null),n=Object(d.a)(a,2),l=n[0],c=n[1],o=r.a.useState(!1),u=Object(d.a)(o,2),i=u[0],s=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{onClick:function(){return s(!0)}}),r.a.createElement(L.a,{open:i,onClose:function(){return s(!1)}},r.a.createElement(U.a,null,"Add a new class"),r.a.createElement(H.a,null,r.a.createElement(G.a,{onChange:function(e){return c(e.target.value)},value:l,label:"Choose a name for your class"})),r.a.createElement(I.a,null,r.a.createElement(J.a,{variant:"contained",color:"primary",disabled:null===l,onClick:function(){t.addClass(l),s(!1),c(null)}},"Add ",l))))},q=function(e){var t=C(),a=R();return r.a.createElement(S.a,{container:!0,spacing:2},a.classes.map(function(a){return r.a.createElement(S.a,{item:!0},r.a.createElement(J.a,{variant:e.example.human_label===a.name?"contained":"outlined",onClick:function(){var n;n=a.name,t.setDocCLass(e.example.id,n)},style:{borderColor:a.color,background:e.example.human_label===a.name?a.color:void 0}},a.name))}))},z=Object(F.a)(function(e){return{root:{height:"80%",overflow:"auto"}}}),K=function(e){var t=z();return r.a.createElement(A.a,{className:t.root,id:e.example.id},r.a.createElement(P.a,{title:e.example.id}),r.a.createElement(N.a,null,r.a.createElement(W.a,null,e.example.content)),r.a.createElement(B.a,null,r.a.createElement(q,{example:e.example,handleUpdateExample:e.handleUpdateExample})))},$=r.a.createContext("searchContext"),V=function(e){var t=C(),a=r.a.useState(t.allDocs()),n=Object(d.a)(a,2),l=n[0],c=n[1],o=r.a.useState(null),u=Object(d.a)(o,2),i=u[0],s=u[1],m=r.a.useState(!1),f=Object(d.a)(m,2),p=f[0],h=f[1];r.a.useEffect(function(){E(i)},[t.step]);var E=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?t.regexSearch:t.search;!e||e.length<1?t.allDocs().then(function(e){c(e)}):(h(!0),a(e).then(function(e){c(e),h(!1)})),s(e)};return r.a.createElement($.Provider,{value:{examples:l,handleQueryChange:E,searching:p}},e.children)},X=function(){return r.a.useContext($)},Z=Object(k.a)(function(e){return{root:{"&:focus":{outline:0},"&::-webkit-scrollbar":{display:"hidden"}}}}),ee=function(e){var t=r.a.useState(0),a=Object(d.a)(t,2),n=a[0],l=a[1],c=r.a.useState(0),o=Object(d.a)(c,2),i=o[0],s=o[1],m=X(),f=r.a.useCallback(function(e){null!==e&&0===n&&(l(e.clientHeight),s(e.clientWidth))}),p=m.examples,h=p.length>1?n/3:2*n/3,E=p.length>1?2*h:n,v=Z();return r.a.createElement(u.a,{style:{height:"85vh"}},r.a.createElement("div",{className:v.root,style:{position:"relative",height:"100%",width:"100%",overflow:"hidden"},ref:f},p.length," examples",r.a.createElement(S.a,{container:!0},r.a.createElement(D.a,{height:n,rowHeight:E,rowRenderer:function(t){var a=t.index,n=t.key,l=t.style,c=p[a];return r.a.createElement(S.a,{item:!0,xs:12,style:Object(j.a)({},l),key:n},r.a.createElement(K,{handleUpdateExample:e.handleUpdateExample,extraStyle:{style:l},orderIndex:1,key:c.id,example:c,anno_source:e.anno_source,schema:e.schema,maxHeight:h}))},width:i,rowCount:p.length}))))},te=a(70),ae=a(325),ne=a(330),re=a(328),le=a(300),ce=a(258),oe=a(323),ue=a(309),ie=a(310),se=Object(k.a)(function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},bigAvatar:{margin:10,width:120,height:60}}}),me=function(e){var t=se();return r.a.createElement(ue.a,{position:"static",className:e.rootClass},r.a.createElement(ie.a,null,r.a.createElement(W.a,{align:"left",variant:"h6",className:t.title},"Why Label When You Can Search ?")))},de=a(155),fe=a(299),pe=a(329),he=a(298),Ee=a(311),ve=a(312),be=a(301),ge=a(313),xe=a(153),we=function(e){return r.a.createElement(de.a,e,r.a.createElement("g",{id:"regular-expression"},r.a.createElement("path",{id:"left-bracket",d:"M3 12.045c0-.99.15-1.915.45-2.777A6.886 6.886 0 0 1 4.764 7H6.23a7.923 7.923 0 0 0-1.25 2.374 8.563 8.563 0 0 0 .007 5.314c.29.85.7 1.622 1.23 2.312h-1.45a6.53 6.53 0 0 1-1.314-2.223 8.126 8.126 0 0 1-.45-2.732"}),r.a.createElement("path",{id:"dot",d:"M10 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}),r.a.createElement("path",{id:"star",d:"M14.25 7.013l-.24 2.156 2.187-.61.193 1.47-1.992.14 1.307 1.74-1.33.71-.914-1.833-.8 1.822-1.38-.698 1.296-1.74-1.98-.152.23-1.464 2.14.61-.24-2.158h1.534"}),r.a.createElement("path",{id:"right-bracket",d:"M21 12.045c0 .982-.152 1.896-.457 2.744A6.51 6.51 0 0 1 19.236 17h-1.453a8.017 8.017 0 0 0 1.225-2.31c.29-.855.434-1.74.434-2.66 0-.91-.14-1.797-.422-2.66a7.913 7.913 0 0 0-1.248-2.374h1.465a6.764 6.764 0 0 1 1.313 2.28c.3.86.45 1.782.45 2.764"})))},ye=function(e){var t=r.a.useState(!1),a=Object(d.a)(t,2),n=a[0],l=a[1],c=X(),o=Object(xe.useDebouncedCallback)(function(e){c.handleQueryChange(e,n)},250),u=Object(d.a)(o,1)[0];return r.a.createElement(fe.a,null,r.a.createElement(pe.a,{htmlFor:"searchbar"},"Search for something"),r.a.createElement(he.a,{id:"searchbar",type:"text",onChange:function(e){return u(e.target.value)},endAdornment:r.a.createElement(Ee.a,{position:"end"},r.a.createElement(ve.a,{"aria-label":"Toggle regex",onClick:function(){l(!n)},color:n?"primary":void 0},r.a.createElement(we,null)))}),r.a.createElement(be.a,{id:"weight-helper-text"},c.searching?r.a.createElement(ge.a,null):"Runs a full text search on your data"))},Oe=a(324),Ce=a(317),je=a(319),ke=a(322),Se=a(318),De=a(320),Ae=a(321),Pe=a(157),Ne=a(314),We=a(315);function Be(e){return new Promise(function(t,a){var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=a,n.readAsText(e)})}var Fe=function(e){var t=function(){var t=Object(m.a)(s.a.mark(function t(a,n){var r,l,c;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.target.files[0],t.next=3,Be(r);case 3:l=t.sent,c=JSON.parse(l),e.handleNewData(c);case 6:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}();return r.a.createElement(G.a,{type:"file",label:"Add a file",onChange:t,helperText:"Select a file"})},Me=function(e){var t=r.a.useState(null),a=Object(d.a)(t,2),n=a[0],l=a[1],c=r.a.useState([]),o=Object(d.a)(c,2),u=o[0],i=o[1],s=r.a.useState(null),m=Object(d.a)(s,2),f=m[0],p=m[1],h=r.a.useState(!1),E=Object(d.a)(h,2),v=E[0],b=E[1],g=C();return r.a.createElement("form",null,r.a.createElement(Fe,{handleNewData:function(e){i(Object.keys(e[0])),l(e)}}),r.a.createElement(Pe.a,{in:u.length},r.a.createElement(G.a,{onChange:function(e){return p(e.target.value)},value:f,select:!0,label:"Text Field",helperText:"Please select the field in the data we'll be labeling",margin:"normal"},u.map(function(e){return r.a.createElement(Ne.a,{value:e},e)}))),v?r.a.createElement(We.a,null):r.a.createElement(J.a,{onClick:function(){b(!0);var e=n.map(function(e,t){return{content:e[f]}});g.addDocsBatch(e).then(function(){return b(!1)})},disabled:null===f,variant:"outlined",color:"primary"},"Load Data"))},Te=function(e){var t=r.a.useState(!1),a=Object(d.a)(t,2),n=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{color:"inherit",onClick:function(){return l(!0)}},r.a.createElement(Q.a,null)),r.a.createElement(L.a,{open:n,onClose:function(){return l(!1)}},r.a.createElement(U.a,null,"Add some data"),r.a.createElement(H.a,null,r.a.createElement(Me,null))))},_e=a(316),Re=function(e){var t=r.a.useState(!1),a=Object(d.a)(t,2),n=a[0],l=a[1],c=r.a.useState(!1),o=Object(d.a)(c,2),u=o[0],i=o[1],h=function(){var e=Object(m.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,f.a.Promise.all([p.data.clear(),p.schema.clear()]);case 3:l(!1),i(!1);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{color:"inherit",onClick:function(){return l(!0)}},r.a.createElement(_e.a,null)),r.a.createElement(L.a,{open:n,onClose:function(){return l(!1)}},r.a.createElement(U.a,null,"Erase all the data"),r.a.createElement(I.a,null,u?r.a.createElement(We.a,null):r.a.createElement(J.a,{onClick:h,variant:"contained",color:"danger"},"Yes Erase It"))))},Le=function(e){var t=r.a.useState(!0),a=Object(d.a)(t,2),n=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{button:!0,key:"Data",onClick:function(){return l(!n)}},r.a.createElement(Ce.a,null," ",r.a.createElement(Se.a,null)),r.a.createElement(je.a,{primary:"Data"}),n?r.a.createElement(De.a,null):r.a.createElement(Ae.a,null)),r.a.createElement(ke.a,{in:n,timeoute:"auto",unmountOnExit:!0},r.a.createElement(le.a,null,r.a.createElement(ce.a,null,r.a.createElement(Ce.a,null,r.a.createElement(Te,null)),r.a.createElement(je.a,{primary:"Add More Data"})),r.a.createElement(ce.a,null,r.a.createElement(Ce.a,null,r.a.createElement(Re,null)),r.a.createElement(je.a,{primary:"Delete All Data"})))))},Ue=function(e){return r.a.createElement(le.a,null,r.a.createElement(Le,null),r.a.createElement(ce.a,{button:!0},r.a.createElement(Ce.a,null,r.a.createElement(Y,null)),r.a.createElement(je.a,{primary:"Classes"})))},He=Object(k.a)(function(e){return{root:{display:"flex"},drawer:Object(te.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(te.a)({marginLeft:240},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),menuButton:Object(te.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)}}}),Ge=function(e){var t=e.container,a=He(),n=Object(oe.a)(),l=r.a.useState(!1),c=Object(d.a)(l,2),o=c[0],u=c[1];function i(){u(!o)}var s=r.a.createElement("div",null,r.a.createElement("div",{className:a.toolbar},r.a.createElement(Oe.a,{style:{paddingTop:"25%"},image:"/ylabel/img/logo.png"})),r.a.createElement(ae.a,null),r.a.createElement(le.a,null,r.a.createElement(ce.a,null,r.a.createElement(ye,null))),r.a.createElement(ae.a,null),r.a.createElement(Ue,null));return r.a.createElement("div",{className:a.root},r.a.createElement(me,{handleDrawerToggle:i,rootClass:a.appBar}),r.a.createElement("nav",{className:a.drawer,"aria-label":"Mailbox folders"},r.a.createElement(re.a,{smUp:!0,implementation:"css"},r.a.createElement(ne.a,{container:t,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:o,onClose:i,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},s)),r.a.createElement(re.a,{xsDown:!0,implementation:"css"},r.a.createElement(ne.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},s))))};var Ie=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null,r.a.createElement(O,null,r.a.createElement(V,null,r.a.createElement(o.a,null),r.a.createElement(Ge,null),r.a.createElement(u.a,null,r.a.createElement(ee,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[166,1,2]]]);
//# sourceMappingURL=main.be2e1223.chunk.js.map