(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,t,a){e.exports=a(257)},170:function(e,t,a){},257:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),c=a.n(l),o=(a(170),a(327)),u=a(313),i=a(16),s=a.n(i),m=a(25),d=a(12),f=a(73),p=a(328),h=a(154),E=a(300),v=a(301),b=a(302);a(175);function g(e){return new Promise(function(t,a){var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=a,n.readAsText(e)})}var x=function(e){var t=function(){var t=Object(m.a)(s.a.mark(function t(a,n){var r,l,c;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.target.files[0],t.next=3,g(r);case 3:l=t.sent,c=JSON.parse(l),e.handleNewData(c);case 6:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}();return r.a.createElement(p.a,{type:"file",label:"Add a file",onChange:t,helperText:"Select a file"})},w=function(e){var t=r.a.useState(null),a=Object(d.a)(t,2),n=a[0],l=a[1],c=r.a.useState([]),o=Object(d.a)(c,2),u=o[0],i=o[1],s=r.a.useState(null),m=Object(d.a)(s,2),f=m[0],g=m[1],w=r.a.useState(!1),y=Object(d.a)(w,2),O=y[0],j=y[1],C=B();return r.a.createElement("form",null,r.a.createElement(x,{handleNewData:function(e){i(Object.keys(e[0])),l(e)}}),r.a.createElement(h.a,{in:u.length},r.a.createElement(p.a,{onChange:function(e){return g(e.target.value)},value:f,select:!0,label:"Text Field",helperText:"Please select the field in the data we'll be labeling",margin:"normal"},u.map(function(e){return r.a.createElement(E.a,{value:e},e)}))),O?r.a.createElement(v.a,null):r.a.createElement(b.a,{onClick:function(){j(!0);var e=n.map(function(e,t){return{content:e[f]}});C.addDocsBatch(e).then(function(){return j(!1)})},disabled:null===f,variant:"outlined",color:"primary"},"Load Data"))},y=new f.a("INDEX12");y.version(1).stores({elastic:"id,content"});var O=function(){var e=Object(m.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.elastic.delete(1);case 2:window.location.reload();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),j=new f.a("DATA"),C={data:"++id,human_label,model_label,*contentWords",schema:"++id,name"},k=function(e){for(var t=new Set,a=2;a<e.length;a++)t.add(e.slice(a-2,a+1));return Array.from(t)};!function(){j.version(1).stores(C);j.data.hook("creating",function(e,t,a){"string"==typeof t.content&&(t.contentWords=k(t.content))}),j.data.hook("updating",function(e,t,a,n){if(e.hasOwnProperty("content"))return"string"==typeof e.content?{contentWords:k(e.content)}:{contentWords:[]}}),j.open()}();var S=function(e){return j.transaction("rw",j.data,function(){e.forEach(function(e){return j.data.add(e)})})},D=function(){var e=Object(m.a)(s.a.mark(function e(t){var a,n,r,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=k(t),e.next=3,f.a.Promise.all(a.map(function(e){return j.data.where("contentWords").equals(e).distinct().primaryKeys()}));case 3:return n=e.sent,r=n.reduce(function(e,t){var a=new Set(t);return e.filter(function(e){return a.has(e)})}),l=j.data.where("id").anyOf(r).toArray().then(function(e){return e.filter(function(e){return-1!==e.content.search(t)})}),e.abrupt("return",l);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),A=function(e,t){return j.schema.add({name:e,color:t})},N=function(){return j.schema.toArray()},P=(a(191),r.a.createContext("dbContext")),W=function(e){var t=r.a.useState(0),a=Object(d.a)(t,2),n=a[0],l=a[1],c=r.a.useState(!1),o=Object(d.a)(c,2),u=o[0],i=o[1],f=function(){return l(n+1)};r.a.useEffect(function(){i(!0)},[1]);var p={addDoc:function(e){f()},addDocsBatch:function(){var e=Object(m.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:e.sent;case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),updateDoc:function(e){f()},updateDocsBatch:function(e){var t=!0,a=!1,n=void 0;try{for(var r,l=e[Symbol.iterator]();!(t=(r=l.next()).done);t=!0)r.value}catch(c){a=!0,n=c}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}f()},search:function(){var e=Object(m.a)(s.a.mark(function e(t,a){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),allDocs:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return j.data.limit(e).toArray()}(20)},step:n};return r.a.createElement(P.Provider,{value:p},u?e.children:null)},B=function(){return r.a.useContext(P)},F=a(144),T=a(261),_=a(308),U=a(151),R=a(153),I=a(309),M=a(310),G=a(46),H=a(311),J=a(262),L=a(252),Q=r.a.createContext("classContext"),Y=function(e){var t=r.a.useState({}),a=Object(d.a)(t,2),n=a[0],l=a[1];r.a.useEffect(function(){N().then(function(e){l(e)})},[1]);var c=function(){var e=Object(m.a)(s.a.mark(function e(t){var a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=L.getColor({text:t}),e.next=3,A(t,a);case 3:return e.next=5,N();case 5:n=e.sent,l(n);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Q.Provider,{value:{classes:Object.values(n),addClass:c}},e.children)},q=function(){return r.a.useContext(Q)},K=a(304),X=a(305),$=a(306),z=a(307),V=a(303),Z=function(e){var t=q(),a=r.a.useState(null),n=Object(d.a)(a,2),l=n[0],c=n[1],o=r.a.useState(!1),u=Object(d.a)(o,2),i=u[0],s=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{onClick:function(){return s(!0)}}),r.a.createElement(K.a,{open:i,onClose:function(){return s(!1)}},r.a.createElement(X.a,null,"Add a new class"),r.a.createElement($.a,null,r.a.createElement(p.a,{onChange:function(e){return c(e.target.value)},value:l,label:"Choose a name for your class"})),r.a.createElement(z.a,null,r.a.createElement(b.a,{variant:"contained",color:"primary",disabled:null===l,onClick:function(){t.addClass(l),s(!1),c(null)}},"Add ",l))))},ee=function(e){var t=q(),a=function(t){var a,n;(a=e.example.id,n=t,j.data.update(a,{human_label:n})).then(e.handleUpdateExample)};return r.a.createElement(_.a,{container:!0,spacing:2},t.classes.map(function(t){return r.a.createElement(_.a,{item:!0},r.a.createElement(b.a,{variant:e.example.human_label==t.name?"contained":"outlined",onClick:function(){a(t.name)},style:{borderColor:t.color,background:e.example.human_label===t.name?t.color:void 0}},t.name))}))},te=Object(J.a)(function(e){return{root:{height:"80%",overflow:"auto"}}}),ae=function(e){var t=te();return r.a.createElement(R.a,{className:t.root,id:e.example.id},r.a.createElement(I.a,{title:e.example.id}),r.a.createElement(M.a,null,r.a.createElement(G.a,null,e.example.content)),r.a.createElement(H.a,null,r.a.createElement(ee,{example:e.example,handleUpdateExample:e.handleUpdateExample})))},ne=a(312),re=a(150),le=r.a.createContext("searchContext"),ce=function(e){var t=B(),a=r.a.useState(t.allDocs()),n=Object(d.a)(a,2),l=n[0],c=n[1],o=r.a.useState(null),u=Object(d.a)(o,2),i=u[0],s=u[1],m=r.a.useState(!1),f=Object(d.a)(m,2),p=f[0],h=f[1];r.a.useEffect(function(){E(i)},[t.step]);var E=function(e){!e||e.length<1?t.allDocs().then(function(e){c(e)}):(h(!0),t.search(e).then(function(e){c(e),h(!1)})),s(e)};return r.a.createElement(le.Provider,{value:{examples:l,handleQueryChange:E,searching:p}},e.children)},oe=function(){return r.a.useContext(le)},ue=function(e){var t=oe(),a=Object(re.useDebouncedCallback)(function(e){t.handleQueryChange(e)},250),n=Object(d.a)(a,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{type:"text",label:"Search for something",helperText:t.searching?r.a.createElement(ne.a,null):"Runs a full text search on your data",onChange:function(e){n(e.target.value)},fullWidth:!0}))},ie=Object(T.a)(function(e){return{root:{"&:focus":{outline:0},"&::-webkit-scrollbar":{display:"hidden"}}}}),se=function(e){var t=r.a.useState(0),a=Object(d.a)(t,2),n=a[0],l=a[1],c=r.a.useState(0),o=Object(d.a)(c,2),i=o[0],s=o[1],m=oe(),f=r.a.useCallback(function(e){null!==e&&0===n&&(l(e.clientHeight),s(e.clientWidth))}),p=m.examples,h=p.length>1?n/3:2*n/3,E=p.length>1?2*h:n,v=ie();return r.a.createElement(u.a,{style:{height:"85vh"}},r.a.createElement("div",{className:v.root,style:{position:"relative",height:"100%",width:"100%",overflow:"hidden"},ref:f},p.length," examples",r.a.createElement(_.a,{container:!0},r.a.createElement(U.a,{height:n,rowHeight:E,rowRenderer:function(t){var a=t.index,n=t.key,l=t.style,c=p[a];return r.a.createElement(_.a,{item:!0,xs:12,style:Object(F.a)({},l),key:n},r.a.createElement(ae,{handleUpdateExample:e.handleUpdateExample,extraStyle:{style:l},orderIndex:1,key:c.id,example:c,anno_source:e.anno_source,schema:e.schema,maxHeight:h}))},width:i,rowCount:p.length}))))},me=a(314),de=function(e){var t=r.a.useState(!1),a=Object(d.a)(t,2),n=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{color:"inherit",onClick:function(){return l(!0)}},r.a.createElement(V.a,null)),r.a.createElement(K.a,{open:n,onClose:function(){return l(!1)}},r.a.createElement(X.a,null,"Add some data"),r.a.createElement($.a,null,r.a.createElement(w,null))))},fe=a(315),pe=function(e){var t=r.a.useState(!1),a=Object(d.a)(t,2),n=a[0],l=a[1],c=r.a.useState(!1),o=Object(d.a)(c,2),u=o[0],i=o[1],f=function(){var e=Object(m.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,O();case 3:l(!1),i(!1);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{color:"inherit",onClick:function(){return l(!0)}},r.a.createElement(fe.a,null)),r.a.createElement(K.a,{open:n,onClose:function(){return l(!1)}},r.a.createElement(X.a,null,"Erase all the data"),r.a.createElement(z.a,null,u?r.a.createElement(v.a,null):r.a.createElement(b.a,{onClick:f,variant:"contained",color:"danger"},"Yes Erase It"))))},he=a(316),Ee=a(317),ve=Object(T.a)(function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},bigAvatar:{margin:10,width:120,height:60}}}),be=function(e){var t=ve();return r.a.createElement(he.a,{position:"static",className:e.rootClass},r.a.createElement(Ee.a,null,r.a.createElement(G.a,{align:"left",variant:"h6",className:t.title},"Why Label When You Can Search ?"),r.a.createElement(de,null),r.a.createElement(pe,null)))},ge=a(65),xe=a(326),we=a(330),ye=a(329),Oe=a(299),je=a(259),Ce=a(324),ke=a(325),Se=a(318),De=a(320),Ae=a(323),Ne=a(319),Pe=a(321),We=a(322),Be=function(e){var t=r.a.useState(!0),a=Object(d.a)(t,2),n=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a,{button:!0,key:"Data",onClick:function(){return l(!n)}},r.a.createElement(Se.a,null," ",r.a.createElement(Ne.a,null)),r.a.createElement(De.a,{primary:"Data"}),n?r.a.createElement(Pe.a,null):r.a.createElement(We.a,null)),r.a.createElement(Ae.a,{in:n,timeoute:"auto",unmountOnExit:!0},r.a.createElement(Oe.a,null,r.a.createElement(je.a,null,r.a.createElement(Se.a,null,r.a.createElement(de,null)),r.a.createElement(De.a,{primary:"Add More Data"})),r.a.createElement(je.a,null,r.a.createElement(Se.a,null,r.a.createElement(pe,null)),r.a.createElement(De.a,{primary:"Delete All Data"})))))},Fe=function(e){return r.a.createElement(Oe.a,null,r.a.createElement(Be,null),r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a,{button:!0},r.a.createElement(Se.a,null,r.a.createElement(Z,null)),r.a.createElement(De.a,{primary:"Classes"}))))},Te=Object(T.a)(function(e){return{root:{display:"flex"},drawer:Object(ge.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(ge.a)({marginLeft:240},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),menuButton:Object(ge.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)}}}),_e=function(e){var t=e.container,a=Te(),n=Object(Ce.a)(),l=r.a.useState(!1),c=Object(d.a)(l,2),o=c[0],u=c[1];function i(){u(!o)}var s=r.a.createElement("div",null,r.a.createElement("div",{className:a.toolbar},r.a.createElement(ke.a,{style:{paddingTop:"25%"},image:"/ylabel/img/logo.png"})),r.a.createElement(xe.a,null),r.a.createElement(Oe.a,null,r.a.createElement(je.a,null,r.a.createElement(ue,null))),r.a.createElement(xe.a,null),r.a.createElement(Fe,null));return r.a.createElement("div",{className:a.root},r.a.createElement(be,{handleDrawerToggle:i,rootClass:a.appBar}),r.a.createElement("nav",{className:a.drawer,"aria-label":"Mailbox folders"},r.a.createElement(ye.a,{smUp:!0,implementation:"css"},r.a.createElement(we.a,{container:t,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:o,onClose:i,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},s)),r.a.createElement(ye.a,{xsDown:!0,implementation:"css"},r.a.createElement(we.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},s))))};var Ue=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,null,r.a.createElement(W,null,r.a.createElement(ce,null,r.a.createElement(o.a,null),r.a.createElement(_e,null),r.a.createElement(u.a,null,r.a.createElement(se,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[165,1,2]]]);
//# sourceMappingURL=main.f750dfc9.chunk.js.map